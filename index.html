<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/styles.css">
    <title>Informes | Asamblea Regional</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="p-3 m-0 border-0 bd-example">
    <!-- Nav Container -->
        <div class="nav-container">
            <div class="nav-container_depto">
                <a class="depto_info" href="./index.html"><span>ℹ️</span> Depto. Información</a>
                <p class="anio_asamblea">Asamblea Regional 2023 - San Juan</p>
            </div>
            <div class="nav-container_tema">
                <p class="tema_asamblea">"Tengan Paciencia"</p>
            </div>
        </div>

    <!-- Body Container -->
    <div class="cointainer p-5">
        <div class="container text-center row justify-content-sm-center" id="card-container">
            <!-- Cards de cada una de las opciones -->
        </div>
    </div>
    <div class="back-button-container">
        <a class="back" href="./index.html"><span>🏠</span></a>
    </div>
    <script>
        // Función para cargar y mostrar datos desde el archivo JSON
        async function fetchData() {
            try {
                const response = await fetch('data.json'); // Carga el archivo JSON
                const data = await response.json(); // Convierte la respuesta a un objeto JavaScript

                // Llama a una función para crear y mostrar tarjetas para cada categoría
                createCards(data);
            } catch (error) {
                console.error('Error al cargar los datos: ', error);
            }
        }

        // Función para crear tarjetas para una categoría dada
        function createCategoryCards(category, categoryData) {
            const container = document.getElementById('card-container');

            // Pone mayúscula a la primera letra de la categoría
            const categoryCapitalized = category.charAt(0).toUpperCase() + category.slice(1);

            // Crea un enlace (link) que envuelve toda la tarjeta
            const categoryLink = document.createElement('a');
            categoryLink.href = categoryData.url;
            categoryLink.classList.add("col-sm-auto","card", "m-2");

            // Crea un encabezado para la categoría
            const categoryHeader = document.createElement('div');

            const categoryLabel = document.createElement('p');
            categoryLabel.classList.add('category-label');

            categoryLabel.textContent = categoryCapitalized;
            categoryHeader.appendChild(categoryLabel);

            categoryLink.appendChild(categoryHeader);

            // Comprueba si hay una URL de imagen en los datos y la establece como fondo
            if (categoryData.imageUrl) {
                categoryLink.style.backgroundImage = `url(${categoryData.imageUrl})`;
            }

            container.appendChild(categoryLink);
        }

        // Función para crear tarjetas para todas las categorías
        function createCards(data) {
            for (const category in data) {
                createCategoryCards(category, data[category]);
            }
        }

        // Llama a la función para cargar los datos al cargar la página
        fetchData();
    </script>
</body>

</html>